 tp tim peters writes the false positive rate is finally i had to scrub a bunch of previously unnoticed spam from my inbox both collections have about messages tp does this mean you trained on about of each the total collections are messages i trained with messages tp can t guess you re in a good position to start adding more tp headers into the analysis though for example an easy start tp would be to uncomment the header counting lines in tokenize tp look for anthony likely the most valuable thing it s tp missing then is some special parsing and tagging of received tp headers i tried the anthony stuff but it didn t make any appreciable difference that i could see from staring at the false negative rate the numbers are big enough that a quick eyeball suffices then i tried a dirt simple tokenizer for the headers that tokenize the words in the header and emitted like this s s hdr word that worked too well the received and date headers helped the classifier discover that most of my spam is old and most of my ham is new so i tried a slightly more complex one that skipped received data and x from which all contained timestamps i also skipped the x vm headers that my mail reader added class mytokenizer tokenizer skip received date x from def tokenize headers self msg for k v in msg items k k lower if k in self skip or k startswith x vm continue for w in subject word re findall v for t in tokenize word w yield s s k t this did moderately better the false negative rate is over the tests performed so far this is versus for the previous test run that used the timtest header tokenizer it s interesting to see that the best descriminators are all ham discriminators there s not a single spam indicator in the list most of the discriminators are header fields one thing to note is that the presence of mailman generated headers is a strong non spam indicator that matches my intuition i got an awful lot of mailman generated mail and those lists are pretty good at surpressing spam the other thing is that i get a lot of ham from people who use xemacs that s probably barry guido fred and me one final note it looks like many of the false positives are from people i ve never met with questions about shakespeare they often start with stuff like dear sir madam may i please take some of your precious time to ask you to help me to find a solution to a problem that is worrying me greatly i am old science student i guess that reads a lot like spam jeremy hams spams false positive false negative new false positives new false negatives best discriminators x mailscanner clean x spam status in rep to delivered to skip s x mailer lucid x mailer xemacs x mailer patch x mailer under x mailscanner found cc zope com i ll references skip rossum x spam status skip s van http zope email addr zope from python org to jeremy zope list archive skip m list subscribe skip m list unsubscribe skip m from zope com return path zope com wrote jeremy email addr python x mailman version x mailman version python 