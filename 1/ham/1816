 but it also identified as spam everything in my inbox that had any mime structure or html parts and several messages in my saved zope geeks list that happened to be using mime and or html do you know why the strangest implied claim there is that it hates mime independent of html for example the spamprob of content type text plain in that pickle is under content type multipart alternative gets but that s not a killer clue and one bit of good content will more than cancel it out i reran the experiment with the new spamham pik but it doesn t seem to make a difference here are the clues for the two spams in my inbox in hammie py s output format which sorts the clues by probability the first two numbers are the message number and overall probability then line folded s facility speaker stretch thursday young mistakes growth content type text plain please capital series subject don companies content type text html fee money am am content type image gif content type multipart alternative attend companies content type type multipart alternative content type multipart related economy economy this has content types as spam clues only one of which is related to html despite there being an html alternative and other spam clues vs only ham clues this was an announcement of a public event by our building owners with a text part that was the same as the html afaict its language may be spammish but the content type clues didn t help btw it makes me wonder about the wisdom of keeping punctuation economy and economy to me don t seem to deserve two be counted as clues s near alexandria conn from adam from email addr panix poked thorugh though i m reflect i ve wednesday content disposition inline contacting sold financially prices rates discount hotel hotels hotels nights plaza rates rates rooms season stations subject hotel here is the full message received headers stripped with apologies to ziggy and david date fri sep from adam turoff subject hotel information to guido python org davida activestate com message id mime version content type text plain charset us ascii content disposition inline user agent mutt i i ve been looking into hotels i poked around expedia for availability from march to nights wednesday thorugh saturday i ve also started contacting hotels for group rates some of the group rates are no better than the regular rates and they require signing a contract with a minimum number of rooms sold with someone financially responsible for unbooked rooms most hotels are less than responsive radission barcelo hotel dupont circle night weekend state plaza hotel foggy bottom near gwu night weekend hilton silver spring near metro in suburban md hight weekend windsor park hotel conn ave between dupont circle woodley park metro stations night needs a car econo lodge alexandria near metro in suburban va night this is a hand picked list i ignored anything over night even though there are some really well situated hotels nearby at higher rates also i m not sure how much these prices reflect an expedia only discount i can t vouch for any of these hotels either i also found out that the down season for dc hotels are mid june through mid september and mid november through mid january z this one has no mime structure nor html it even has a content disposition which is counted as a non spam clue it got f p ed because of the many hospitality related and money related terms i m surprised night and similar aren t clues too and again several spam clues are duplicated with different variations hotel hotels hotels subject hotel rates rates wrt hating html possibilities include it really had to do with something other than mime html these are pure html not multipart alternative with a text plain part so that the tags aren t getting stripped the pickled classifier despises all hints of html due to its c l py heritage these are multipart alternative with a text plain part but the latter doesn t contain the same text as the text html part for example as anthony reported perhaps the text plain part just says something like this is an hmtl message if it s it would be easy to add an optional bool argument to tokenize meaning even if it is pure html strip the tags anyway in fact i d like to do that and default it to true the extreme hatred of html on tech lists strikes me as umm extreme i also looked in more detail at some f p s in my geeks traffic the first one s a doozie that s the term right it has lots of html clues that are apparently ignored it was a multipart mixed with two parts a brief text plain part containing one or two sentences a mondo weird url http x deja com st rn ps getdoc xp an context hitnum and some employer generated spammish boilerplate the second part was the html taken directly from the above url clues s main later lots paul adopt apps commands deja com dejanews discipline duct email addr digicool email name paul everitt exist forwards framework from email addr digicool from email name http http http an http author http fmt http getdoc http pr http products http query http search http viewthread http xp http zope inventing jsp jsp logic maps neo newsgroup object popup probable query query resizes servlet skip stems subject jsp sucks templating tempted url usenet usenet wrote x mailer mozilla en windows nt u zope cc ff ff ffffff copy gt nbsp nbsp quot no med small pt px px pt px pt px pt px pt nbsp a alt bold border border color colspan colspan colspan face arial font family font size font weight footer for fucking height height height height height height height height height height height height hspace http g http web http http ads http d http page http site http article http back http com http d http gif http go http group http http http post http ps http site http st http title http yahoo inc jobs normal nowrap nowrap nowrap type image type text type hidden type image type radio type submit type text valign top valign top value visibility width width width width width width width width width width width width width width width width works the second f p had the same structure and sender the third f p had the same structure and a different sender ditto the fifth sixth not posting clues for brevity the fourth was different plaintext with one very short sentence and a url clues s from email addr digicool http news from email addr com from tres http digi proto http subject geeks x mailer mozilla en x u linux smp i take bool noorg http com skip h http htm subject software http business http local subject firm us the seventh was similar i scanned a bunch more until i got bored and most of them were either of the first form brief text with url followed by quoted html from website or the second brief text with one or more urls it s up to you to decide what to call this but i think these are none of your or they re close to but all are multipart mixed rather than multipart alternative so i guess i ll have to retrain it yes you told me so that would be a different experiment i m certainly curious to see whether jeremy s much worse than mine error rates are typical or aberrant it s possible that the corpus you ve trained on is more homogeneous than you thought guido van rossum home page http www python org guido 