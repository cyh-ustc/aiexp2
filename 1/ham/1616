 http www hughes family org bugzilla show bug cgi id additional comments from spamassassin contrib msquadrat de i ve thought about this and pm filter needs to die i ve now tried multiple ways to make it just transparently work on and failed if anyone has any bright ideas please jump in you see anyone upgrading from the cpan shell will get a failure on the line use extutils makemaker quite some modules from cpan do have a line like this nowadays i think or read so somewhere respectively and the perl error message is very clear extutils makemaker version required this is only version at makefile pl line because it never gets chance to reach a writemakefile line with a prereq pm extutils makemaker option so the cpan shell can t automatically upgrade this module i cannot think of any way around this i could think of a solution we could remove the use line and add the version to prereq pm after writemakefile we could add the lines require extutils makemaker extutils makemaker version to do per hand what use extutils makemaker does automagically perl makefile pl will die with a uncaught exception from user code extutils makemaker version required this is only version at makefile pl line there but we ve got a makefile but i don t know if cpan will run the make anyway to add insult to injury the pm filter part gets run during pm to blib which would be fine except extutils makemaker doesn t let you write a my pm to blib it s non overridable so even though we could potentially copy the extutils install pm to blib code somewhere into the spamassassin codebase i tried that first we can t cause the makefile to call our code we could call the preprocessor on install time that s not a very clean approach but could work we can also overwrite pm to blib in the makefile directly per postamble we already have a useless line pm to blib spamassassin doc made there adding some commands in this section gives some make warnings makefile warning overriding commands for target pm to blib makefile warning ignoring old commands for target pm to blib but does work not a very good solution either so i m strongly against the current use of extutils makemaker usage if this were an apache project this would be my veto vote and really hope we can find another way the use makemaker error message is imho quite clear so i think it s ok to require the user to do a manual update of extutils makemaker before the sa installation but that s just my opinion i ll ask on makemaker perl org for the best solution they should know you are receiving this mail because you are on the cc list for the bug or are watching someone who is this sf net email is sponsored by thinkgeek welcome to geek heaven http thinkgeek com sf spamassassin devel mailing list spamassassin devel lists sourceforge net https lists sourceforge net lists listinfo spamassassin devel 