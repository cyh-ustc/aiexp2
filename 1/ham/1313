 once upon a time gary wrote on wed oct at am matthias saou wrote well i don t really find it consistent at all to use an rpm package built against something that wasn t installed through rpm following that reasoning i ve been installing all my custom built kernels through rpm recently i find it annoying though that alsa kernel and similar packages will only build for the currently running kernel so i ve attached a patch to specify an alternate kernel by setting the target kernel environment variable before running rpmbuild you still need to have the rpm for the specified kernel installed but at least it doesn t have to be currently running it s kinda hackish so if someone has a better way to do this let me know that idea looks good although it maybe needs to be tweaked a bit more what you sent doesn t support packages named kernel smp i d also prefer a cleaner way than the env variable and preferrably not editing the spec probably define target xx xx with smp sound good enough the buildrequires on kernel source will also need to be removed because it won t necessarily need to be true and that does bug me a bit more ideas are welcome matthias clean custom red hat linux rpm packages http freshrpms net red hat linux release valhalla running linux kernel acpi load rpm list mailing list http lists freshrpms net mailman listinfo rpm list 